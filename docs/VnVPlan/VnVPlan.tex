\documentclass[12pt, titlepage]{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=blue,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}
\usepackage[round]{natbib}
\usepackage{float}
\input{../Comments}
\input{../Common}

\newcounter{testCase}
\newcommand{\testCaseFormat}{T\thetestCase}
\newcommand{\tref}[1]{T\ref{#1}}

\newcommand{\unitTestref}[1]{UT\ref{#1}} \newcounter{uttnum}
\newcommand{\UTthettnum}{UT\theuttnum}

\begin{document}

\title{Project Title: System Verification and Validation Plan for \progname{}} 
\author{\authname}
\date{\today}
	
\maketitle

\pagenumbering{roman}

\section*{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
Date 1 & 1.0 & Notes\\
Date 2 & 1.1 & Notes\\
\bottomrule
\end{tabularx}

~\\
\newpage

\tableofcontents

\listoftables


\listoffigures


\newpage

\section{Symbols, Abbreviations, and Acronyms}

\renewcommand{\arraystretch}{1.2}
\begin{tabular}{ll}
\toprule
\textbf{Symbol/Abbreviation/Acronym} & \textbf{Description} \\
\midrule
VnV & Verification and Validation \\
SRS & System Requirements Specification \\
MG & Module Guide \\
MIS & Module Interface Specification \\
\bottomrule
\end{tabular}



\newpage

\pagenumbering{arabic}


\section{General Information}

\subsection{Summary}

This document outlines the validation and verification (VnV) plan for the \progname{}, a specialized software tool for calculating the precise currents required in each coil of a three-axis Helmholtz coil system to achieve specific target magnetic force and torque. The VnV plan will ensure the software's functionality, accuracy, and reliability in facilitating the precise control of magnetic environments for a wide range of applications.
\subsection{Objectives}

The objectives within this Verification and Validation (VnV) plan are centered on ensuring the software's proficiency in precisely calculating coil currents necessary for achieving specified magnetic force and torque within a three-axis Helmholtz coil system. Additionally, it aims to confirm the clarity and user-friendliness of the software’s visual outputs, making certain they are easily understandable and provide valuable assistance for users’ research endeavors. This integrated approach emphasizes both accuracy in computational outputs and accessibility in data presentation, underpinning the software's utility in scientific research.

\subsection{Relevant Documentation}

For a detailed overview of the Helmholtz-Coil-Current-Calculator-CAS741's objectives, functional requirements, and operational guidelines, please refer to the  \href{https://github.com/rnorouziani/Helmholtz-Coil-Current-Calculator-CAS741/blob/main/docs/SRS/SRS.pdf}{System Requirements Specification (SRS)} document.

\section{Plan}

\subsection{Verification and Validation Team}


This section describes the members of the Verification and Validation plan.

\begin{table}[h!]

  \vspace*{3mm}
  \begin{tabular}{|p{0.27\textwidth}|p{0.18\textwidth}|p{0.30\textwidth}|p{0.25\textwidth}|}
  \hline
  \textbf{Name} & \textbf{Document} & \textbf{Role} & \textbf{Description} \\
  \hline
  Dr. Spencer Smith & All & Instructor/Reviewer & Review the documents, design, and documentation style. \\ 
  \hline
  Reyhaneh Norouziani & All & Author & Create and manage all the documents, create the VnV plan, perform the VnV testing, verify the implementation. \\  
  \hline
  Tanya Djavaherpour & All & Domain Expert Reviewer & Review all the documents. \\  
  \hline
  Yi-Leng Chen & SRS & Secondary Reviewer & Review the SRS document. \\
  \hline
  Yidng Li & VnV Plan & Secondary Reviewer & Review the VnV plan. \\ 
  \hline
  Atiyeh Sayadi & MG + MIS & Secondary Reviewer & Review the MG and MIS document. \\
  \hline 
  \end{tabular}
  \caption{Verification and Validation Team} \label{team}
\end{table}
\subsection{SRS Verification Plan}

The verification process for the \progname{}'s SRS document will proceed as follows:
\begin{enumerate}
    \item An initial review will be conducted by assigned members (Dr. Spencer Smith, Tanya Djavaherpour, Yi-Leng Chen) using the provided \href{https://github.com/smiths/capTemplate/blob/9251702fdcb9800c59f6ed3d11d91e2bd62fca6d/docs/Checklists/SRS-Checklist.pdf}{SRS Checklist}, developed by Dr. Smith. This review will be carried out manually.
    \item Reviewers can provide feedback to the author by creating issues on Github.
    \item The author, Reyhaneh Norouziani, is responsible for addressing the issues raised by both primary and secondary reviewers, as well as incorporating any suggestions provided by the instructor, Dr. Spencer Smith.
\end{enumerate}

\subsection{Design Verification Plan}

The verification process for the \progname{}'s Module Guide (MG), and Module Interface Specification (MIS) will proceed as follows:
\begin{enumerate}
    \item An initial review will be conducted by assigned members (Dr. Spencer Smith, Tanya Djavaherpour, Atiyeh Sayadi) using the provided \href{https://github.com/smiths/capTemplate/blob/9251702fdcb9800c59f6ed3d11d91e2bd62fca6d/docs/Checklists/MG-Checklist.pdf}{MG Checklist} and \href{https://github.com/smiths/capTemplate/blob/9251702fdcb9800c59f6ed3d11d91e2bd62fca6d/docs/Checklists/MIS-Checklist.pdf}{MIS Checklist}, developed by Dr. Smith. This review will be carried out manually.
    \item Reviewers can provide feedback to the author by creating issues on Github.
    \item The author, Reyhaneh Norouziani, is responsible for addressing the issues raised by both primary and secondary reviewers, as well as incorporating any suggestions provided by the instructor, Dr. Spencer Smith.
\end{enumerate}


\subsection{Verification and Validation Plan Verification Plan}

The verification process for the \progname{}'s Verification and Validation Plan will proceed as follows:
\begin{enumerate}
    \item An initial review will be conducted by assigned members (Dr. Spencer Smith, Tanya Djavaherpour, Yiding Li) using the provided \href{https://github.com/smiths/capTemplate/blob/9251702fdcb9800c59f6ed3d11d91e2bd62fca6d/docs/Checklists/VnV-Checklist.pdf}{VnV Checklist}, developed by Dr. Smith. This review will be carried out manually.
    \item Reviewers can provide feedback to the author by creating issues on Github.
    \item The author, Reyhaneh Norouziani, is responsible for addressing the issues raised by both primary and secondary reviewers, as well as incorporating any suggestions provided by the instructor, Dr. Spencer Smith.
\end{enumerate}


\subsection{Implementation Verification Plan}

The Implementation process will consist of both static and dynamic testing methodologies.

\textbf{Static testing:}
\begin{itemize}

\item Static testing:
\begin{itemize}
\item Code Walkthrough: The author (Reyhaneh Norouziani) will provide the final version of the original code to the domain expert (Tanya Djavaherpour). The domain expert will then manually examine critical test cases, share her findings, and actively participate in discussions. Additionally, she can seek clarification on any aspects of the code as needed.
\item PyFlakes: PyFlakes, a static code analysis tool, will be utilized to identify common programming errors and potential issues in the \progname{} codebase. This automated process will help ensure code quality and identify any inconsistencies or errors that may have been overlooked during manual code review by the author.
\end{itemize}
\end{itemize}

\begin{itemize}
\item Dynamic testing:
\begin{itemize}

\item Test cases: Test cases for all the tests mentioned in \autoref{sec:SysTestDisc} will be executed. These tests aim to validate both functional and non-functional requirements outlined in the \href{https://github.com/rnorouziani/Helmholtz-Coil-Current-Calculator-CAS741/blob/main/docs/SRS/SRS.pdf}{SRS} document (Sections 5.1 and 5.2).
\end{itemize}
\end{itemize}
\subsection{Automated Testing and Verification Tools}
The verification and validation process for the Three-axis Helmholtz Coil System Current Calculator (\progname{}) involves automated testing using the pytest library in Python. One of the automated test cases focuses on verifying the accuracy of the calculated force and torque generated by the input currents. This test ensures that the software performs within acceptable tolerances, as specified by the system requirements. By utilizing pytest for automated testing, we aim to streamline the verification process and maintain the reliability and accuracy of the software across various scenarios. Additionally, pytest allows for the implementation of test cases that validate input data against predefined constraints and verify that output results adhere to expected criteria.



\subsection{Software Validation Plan}\label{sec:SysTestDisc}

For validation purposes, the project will be demonstrated to Dr. Onaizah, whose research involves the intersection of magnetics and robotics for biomedical applications, including the development of small-scale robotic tools. Given her expertise in working with three-axis Helmholtz Coil Systems, her feedback will be invaluable in assessing the suitability of the program to meet the needs of its intended users, including scientists, engineers, and clinicians working in the field of medical robotics and magnetic applications. Any feedback received from this validation activity will be used to refine and enhance the functionality of the Three-axis Helmholtz Coil System Current Calculator further.

\section{System Test Description}
	
\subsection{Tests for Functional Requirements}

\subsubsection{Inputs}\label{subsec:Inputs}
This section ensures that the input and output limitations specified in requirement R1 for \progname{} are verified. These constraints can be found in the "Input Data Constraints" section of the \href{https://github.com/rnorouziani/Helmholtz-Coil-Current-Calculator-CAS741/blob/main/docs/SRS/SRS.pdf}{SRS} document. 
		
\paragraph{ }

\begin{enumerate}

\item{\textbf{\refstepcounter{testCase}\testCaseFormat \label{T_input1}}: Test input for meeting the constraints}


Control: Automatic
					
Initial State: Pending input
					
Input: The inputs mentioned in \href{https://github.com/rnorouziani/Helmholtz-Coil-Current-Calculator-CAS741/blob/main/docs/SRS/SRS.pdf}{SRS} as Table 1: Input Variables
					
Output: If the inputs meet the constraints, the program will display "Valid"; otherwise, it will present an error message indicating the incorrect input along with the reason for the error.

Test Case Derivation: The expected output is justified based on the predefined input constraints specified in the System Requirements Specification \href{https://github.com/rnorouziani/Helmholtz-Coil-Current-Calculator-CAS741/blob/main/docs/SRS/SRS.pdf}{SRS} document. These constraints ensure that the input data adhere to the predefined criteria necessary for accurate calculations within the Three-axis Helmholtz Coil System Current Calculator (\progname{}).	
			
How test will be performed: The automatic test is performed using pytest.
					
\end{enumerate}

\subsubsection{Outputs}\label{subsec:Outputs}
\begin{enumerate}

\item{\textbf{\refstepcounter{testCase}\testCaseFormat \label{T_output1}}: Test Output currents to not be greater than maximum acceptable electric current of each coil\label{subsec:Outputs1}}

Control: Automatic
					
Initial State: The output is calculated
					
Input: Calculated currents of each coils 
			
Output: If the inputs do not meet the constraints, the program will display an error message indicating that the needed current is out of range.

Test Case Derivation: The expected output is justified based on the predefined constraints specified in the System Requirements Specification  \href{https://github.com/rnorouziani/Helmholtz-Coil-Current-Calculator-CAS741/blob/main/docs/SRS/SRS.pdf}{SRS} document. These constraints define the maximum acceptable electric current for each coil within the Three-axis Helmholtz Coil System.				

How test will be performed: The automatic test is performed using pytest.

\item{\textbf{\refstepcounter{testCase}\testCaseFormat \label{T_output2}}: Test calculated currents Output are produce the target magnetic force and torque}

Control: Automatic
					
Initial State: The output is calculated
					
Input: Calculated currents of each coils 
			
Output: It calculates the generating force and torque from the input currents, and if they are within $\pm$0.5\% of the target magnetic force and torque, it passes.

Test Case Derivation: The expected outcome is justified by the requirement outlined in the System Requirements Specification (SRS) document, which specifies that the calculated currents should produce a magnetic force and torque with a specific accuracy. 				

How test will be performed: The automatic test is performed using pytest.
			
\end{enumerate}
\subsection{Tests for Nonfunctional Requirements}

\subsubsection{Accuracy}\label{subsec:Accuracy}
\textbf{\refstepcounter{testCase}\testCaseFormat \label{T_accu}}: This matter is discussed in detail in Section T\ref{T_output2}.

\subsubsection{Usability}\label{subsec:Usability}
\textbf{\refstepcounter{testCase}\testCaseFormat \label{T_usab}}: The usability test will involve a group of users who will interact with the software to complete a specific task. Participants will be tasked with inputting the characteristics of a three-axis Helmholtz coil system, along with a provided target magnetic force and torque, and reading the calculated results. Following the completion of these tasks, participants will provide feedback on the software's user interface design and overall usability by completing a survey(see \ref{subsec:UsabilitySurvery}).
\subsubsection{Maintainability}\label{subsec:Maintainability}
\textbf{\refstepcounter{testCase}\testCaseFormat \label{T_maint}}: The Maintainability test for this project occurs through GitHub issue discussions, where reviewers and the instructor evaluate various aspects related to the software's lifespan. These discussions serve as a platform to assess the coupling of the software architecture, the quality of documentation, and other factors impacting maintainability. Through collaborative review and discussion in GitHub issues, reviewers and the instructor evaluate the codebase's readability, modularity, and adherence to coding standards, identifying areas for improvement to ensure the software remains easily maintainable and adaptable in the long term. This proactive approach to maintainability assessment through GitHub issues enables us to address potential issues early in the development process, fostering a more sustainable and efficient software lifecycle.

\subsubsection{Portability}\label{subsec:Portability}
 \textbf{\refstepcounter{testCase}\testCaseFormat \label{T_port}}: The Portability test for the project involves testing the program on various operating systems to ensure its compatibility and functionality across different platforms. The author will execute all test cases on a range of operating systems, including Windows and Linux distributions. Each test will verify that the program operates correctly and that all test cases are successfully executed without errors or discrepancies. Any issues encountered during testing will be documented and addressed to ensure that the software maintains consistent behavior across different platforms. 

\subsection{Traceability Between Test Cases and Requirements}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|l|l|l|l|l|}
\hline
& R1 & R2 & NFR1 & NFR2 & NFR3 & NFR4 \\ \hline
\tref{T_input1} & x & & & & & \\ \hline
\tref{T_output1} & & x & & & & \\ \hline
\tref{T_output2} & & x & & & & \\ \hline
\tref{T_accu} & & &x & & & \\ \hline
\tref{T_usab} & & & &x & & \\ \hline
\tref{T_maint} & & & & &x & \\ \hline
\tref{T_port} & & & & & &x \\ \hline
\end{tabular}
\caption{Relationship Between Test Cases and Requirements}
\label{tab:traceability}
\end{table}

\section{Unit Test Description}


\subsection{Unit Testing Scope}

The scope of the unit tests will focus on the functionality of each module within the software, with an exception made for the OutputFormat module. The OutputFormat module is excluded from unit testing as it contains only a single, simple method responsible for displaying two lines of output, which does not warrant the setup of formal unit tests. Testing for this module will be conducted manually to ensure the output is formatted and displayed correctly. The rest of the unit tests will exclude testing external library functionalities.
\subsection{Tests for Functional Requirements}

\subsubsection{CoilT Module}

This module tests the initialization and parameter validation of the CoilT class, which represents individual coils in the system. The tests are implemented in TestCoilT.py and are designed to ensure that coil objects are correctly instantiated and that their parameters are validated according to the specified rules. Each test is named after the specific condition it checks, making it straightforward to understand what each test validates.

\begin{enumerate}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Load Coils Valid Data}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Load Coils File Not Found}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Load Coils Invalid JSON}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Create Coil from Data Valid}

\end{enumerate}

\subsubsection{InputFormat Module}

This module tests the functionality of the InputFormat class, which is responsible for loading and validating coil configuration data from JSON files. The tests are implemented in TestInputFormat.py and are designed to ensure that the class accurately handles various data input scenarios. Each test is named to reflect the specific functionality it assesses, facilitating clear and understandable test coverage.

\begin{enumerate}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Valid Initialization}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Invalid Radius}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Invalid Distance}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Invalid Turns}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Invalid Current}
\end{enumerate}

\subsubsection{MagneticCoreTest Module}

This module tests the functionality of various methods within the MagneticCore Module. The tests are implemented in TestMagneticCore.py, and the names of the tests are directly derived from the methods they evaluate. This naming convention ensures clarity and helps easily identify which method each test is designed to validate. 

\begin{enumerate}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Initialization Test}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Calculate Current of Target Force}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Calculate Current of Target Torque}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Magnetic Torque Calculation}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Magnetic Force Calculation}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Magnetic Field Helmholtz}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Derivatives of Magnetic Field Maxwell at Center} 
\end{enumerate}


\subsubsection{OutputVerification Module}

This module tests the functionality of the OutputVerification class, which is responsible for ensuring the accuracy of calculated outputs based on predefined criteria. The tests are implemented in TestOutputVerification.py. Each test is named after the specific functionality or condition it verifies.
\begin{enumerate}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Currents Within Range Valid}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Currents Within Range Invalid}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Accuracy Valid}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Accuracy Force Invalid}
  \item[\refstepcounter{uttnum} \UTthettnum:] \textbf{Accuracy Torque Invalid}
\end{enumerate}

\subsection{Tests for Nonfunctional Requirements}
None.

\subsection{Traceability Between Test Cases and Modules}

\begin{table}[h]
  \centering
  \caption{Traceability Between Test Cases and Modules}
  \vspace{3mm}
  \label{tab:my-table}
  \begin{tabular}{l|c}
  Module         & Tests \\ \hline
\tref{T_input1} & UT1 to UT16\\
\tref{T_output1} & UT17, UT18\\
\tref{T_output2} &  UT18 to UT21\\
  \end{tabular}
  \end{table}
				
\bibliographystyle{plainnat}

\bibliography{../../refs/References}

\newpage

\section{Appendix}

\subsection{Usability Test Survey Questions?}\label{subsec:UsabilitySurvery}
\begin{enumerate}
    \item On a scale of 1 to 5, how would you rate the overall ease of use of the software?
    \begin{enumerate}
        \item Very difficult
        \item Difficult
        \item Neutral
        \item Easy
        \item Very easy
    \end{enumerate}

    \item Were you able to input the characteristics of the three-axis Helmholtz coil system and the target magnetic force and torque without difficulty?
    \begin{enumerate}
        \item Yes
        \item No (Please provide details)
    \end{enumerate}

    \item How clear and understandable were the calculated results presented by the software?
    \begin{enumerate}
        \item Very clear
        \item Clear
        \item Neutral
        \item Unclear
        \item Very unclear
    \end{enumerate}

    \item Did you encounter any issues or challenges while using the software? If yes, please describe them briefly.
    \item Do you have any additional comments or suggestions for improving the usability of the software?

\end{enumerate}

\end{document}
